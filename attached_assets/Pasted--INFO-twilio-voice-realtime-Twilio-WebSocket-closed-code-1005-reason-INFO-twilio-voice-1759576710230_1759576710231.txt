[INFO] twilio-voice-realtime: Twilio WebSocket closed {"code":1005,"reason":""}
[INFO] twilio-voice-realtime: Twilio WebSocket closed {"code":1005,"reason":""}
[INFO] twilio-voice-realtime: OpenAI WebSocket closed {"code":1005,"reason":"","wasClean":true}
[INFO] twilio-voice-realtime: OpenAI WebSocket closed {"code":1005,"reason":"","wasClean":true}
[INFO] twilio-voice-realtime: OpenAI WebSocket closed {"code":1005,"reason":"","wasClean":true}
[INFO] twilio-voice-realtime: Cleaning up bridge {"streamSid":"MZbefff452253997ac0b795680a4a1969c","callSid":"CA0652ae19a6a3b230d6c93739e526f488","durationSeconds":16}
[INFO] twilio-voice-realtime: Cleaning up bridge {"streamSid":"MZbefff452253997ac0b795680a4a1969c","callSid":"CA0652ae19a6a3b230d6c93739e526f488","durationSeconds":16}
[INFO] twilio-voice-realtime: Twilio stream stopped
[INFO] twilio-voice-realtime: Twilio stream stopped
[INFO] twilio-voice-realtime: Twilio stream stopped
[INFO] twilio-voice-realtime: Cleaning up bridge {"streamSid":"MZbefff452253997ac0b795680a4a1969c","callSid":"CA0652ae19a6a3b230d6c93739e526f488","durationSeconds":16}
[INFO] twilio-voice-realtime: OpenAI session created, waiting for tenant configuration
[INFO] twilio-voice-realtime: OpenAI WebSocket connected successfully
[INFO] twilio-voice-realtime: Agent config loaded {"hasInstructions":true,"voice":"alloy","hasGreeting":false}
[INFO] twilio-voice-realtime: Reconfiguring OpenAI session with tenant settings
[INFO] twilio-voice-realtime: Greeting overridden from customParameters {"greeting":"Hello, thank you for calling Salon Blu. How can I help you today?"}
[INFO] twilio-voice-realtime: Twilio stream started {"streamSid":"MZbefff452253997ac0b795680a4a1969c","callSid":"CA0652ae19a6a3b230d6c93739e526f488","tenantId":"f3760fe8-4491-4ab1-83dd-4069b1a2d688","hasGreeting":true}
[INFO] twilio-voice-realtime: Tenant ID set from customParameters {"tenantId":"f3760fe8-4491-4ab1-83dd-4069b1a2d688"}
[INFO] twilio-voice-realtime: Received customParameters {"customParameters":{"phoneNumber":"+19169450065","greeting":"Hello, thank you for calling Salon Blu. How can I help you today?","from":"+19169450065","tenantId":"f3760fe8-4491-4ab1-83dd-4069b1a2d688","businessName":"Salon Blu","to":"+19194203058"}}
[DEBUG] twilio-voice-realtime: Unhandled Twilio event {"event":"connected"}
[INFO] twilio-voice-realtime: Bridge initialization complete
[INFO] twilio-voice-realtime: Connecting to OpenAI Realtime API
[INFO] twilio-voice-realtime: No tenant_id yet, will be set from Twilio customParameters
[INFO] twilio-voice-realtime: RealtimeAudioBridge initialized {"tenantId":""}
[INFO] twilio-voice-realtime: Twilio WebSocket connected {"tenantIdFromUrl":null}
[INFO] twilio-voice-realtime: Incoming request {"method":"GET","url":"http://gnqqktmslswgjtvxfvdo.supabase.co/twilio-voice-realtime","upgradeHeader":"websocket","searchParams":{}}
[INFO] twilio-voice-realtime: WebSocket upgrade request {"tenantId":null,"hasTenantId":false,"note":"tenant_id can also come from Twilio customParameters"}
Listening on http://localhost:9999/
booted (time: 29ms)